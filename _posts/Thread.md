# 线程 (Common/Thread)
## 线程对象：ThreadObject
### 基本结构
### 线程对象的创建
创建线程对象时，重要参数为线程对象的名称，线程的入口函数，线程的优先级以及线程的 CPU 亲和力信息。其中，线程对象的名称是全局唯一的，计算哈希后用于线程的标识。其它参数包括线程的初始状态（创建完成后立即执行/等待激活后开始执行），线程执行效果（DISCARD - 执行完成后释放资源，KEEP - 执行完成后不释放资源，以供下一次的调用，DETACH - 将线程对象创建为分离线程，线程管理器将不会管理此线程）。
### 线程对象的销毁
创建线程对象时的执行效果设置为 DISCARD 时，线程管理器将在线程执行完毕后自动释放线程对象，其余情况下线程管理器将不会释放线程对象，需要主动调用 `ThreadObject::Destroy()` 方法销毁线程对象，此后便可以重新创建一个与该线程对象具有相同名称的线程。  

## 线程管理：ThreadManager
线程管理对象内部使用数组储存线程对象，并且会使用 Hash Map 创建线程的信息，用于线程管理。创建线程管理器时，可以指定线程管理器中线程池的结构，为当前系统的每一个 CPU 核心分配一个线程池的执行效率往往是最高的，可以利用当前 CPU 的所有处理资源。  

线程管理器中用于储存的线程池在线程执行完毕后，线程池的尺寸不会减少，而是会作为一个空闲插槽等待线程对象传入执行。

**这里的 ThreadManager 实际上就是一个 Executor。**

## TODO:
1. 引擎根据程序中所有创建线程对象的调用来生成一个亲和力配置文件，此配置文件再用一个工具程序来修改不同线程绑定的 CPU 线程，可以更加方便的对不同硬件进行优化，达到较好的性能，又或者是引擎首次运行时通过执行一系列的测试来针对当前硬件进行优化，来达到一个优化的效果（但是这样会使得首次进入程序时的初始化速度较慢，不过开发人员会轻松不少）。引擎可以动态加载配置，如果有精力，甚至可以设计一个线程“导演”模块，根据硬件占用动态配置线程亲和力！
